<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Configuration file - dcm2bids</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Configuration file";
    var mkdocs_page_input_path = "config.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> dcm2bids</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">User Guide</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../usage/">Usage</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Configuration file</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#configuration-file-example">Configuration file example</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#criteria">criteria</a></li>
        
            <li><a class="toctree-l4" href="#datatype">dataType</a></li>
        
            <li><a class="toctree-l4" href="#modalitylabel">modalityLabel</a></li>
        
            <li><a class="toctree-l4" href="#customlabels">customLabels</a></li>
        
            <li><a class="toctree-l4" href="#sidecarchanges">sidecarChanges</a></li>
        
            <li><a class="toctree-l4" href="#intendedfor">intendedFor</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../advance/">Advanced configuration</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../tutorial/">Tutorial</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../versions/">Versions</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="https://zenodo.org/badge/latestdoi/59581295">Cite</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">dcm2bids</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>User Guide &raquo;</li>
        
      
    
    <li>Configuration file</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/cbedetti/Dcm2Bids/edit/master/docs/config.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="configuration-file-example">Configuration file example</h1>
<pre><code class="json">{
    &quot;descriptions&quot;: [
        {
            &quot;dataType&quot;: &quot;func&quot;,
            &quot;modalityLabel&quot;: &quot;bold&quot;,
            &quot;customLabels&quot;: &quot;task-rest&quot;,
            &quot;criteria&quot;: {
                &quot;SidecarFilename&quot;: &quot;006*&quot;
                &quot;ImageType&quot;: [&quot;ORIG*&quot;, &quot;PRIMARY&quot;, &quot;M&quot;, &quot;ND&quot;, &quot;MOSAIC&quot;]
            }
        },
        {
            &quot;dataType&quot;: &quot;anat&quot;,
            &quot;modalityLabel&quot;: &quot;T2w&quot;,
            &quot;criteria&quot;: {
                &quot;SeriesDescription&quot;: &quot;*T2*&quot;,
                &quot;EchoTime&quot;: 0.1
            },
            &quot;sidecarChanges&quot;: {
                &quot;ProtocolName&quot;: &quot;T2&quot;
            }
        },
        {
            &quot;dataType&quot;: &quot;fmap&quot;,
            &quot;modalityLabel&quot;: &quot;fmap&quot;,
            &quot;intendedFor&quot;: 0,
            &quot;criteria&quot;: {
                &quot;ProtocoleName&quot;: &quot;*field_mapping*&quot;
            }
        }
    ]
}
</code></pre>

<p>The <code>descriptions</code> field is a list of descriptions, each describing some acquisition. In this example, the configuration describes three acquisitions, a T2 weighted, resting state fMRI and a fieldmap.</p>
<p>Each description tells dcm2bids how to group a set of acquisitions and how to label them. In this config file, Dcm2Bids is being told to collect files containing</p>
<pre><code class="json">{
    &quot;SeriesDescription&quot;: &quot;AXIAL_T2_SPACE&quot;,
    &quot;EchoTime&quot;: 0.1
}
</code></pre>

<p>in their sidecars<sup>1</sup> and label them as <code>anat</code>, <code>T2w</code> type images.</p>
<h2 id="criteria">criteria</h2>
<p>dcm2bids will try to match the sidecars<sup>1</sup> of dcm2niix to the descriptions of the configuration file. The values you enter inside the criteria dictionary are patterns that will be compared to the corresponding key of the sidecar.</p>
<p>The pattern matching is shell-style. It's possible to use wildcard <code>*</code>, single character <code>?</code> etc ... Please have a look at the <a href="https://www.gnu.org/software/bash/manual/html_node/Pattern-Matching.html">GNU documentation</a> to know more.</p>
<p>For example, in the second description, the pattern <code>*T2*</code> will be compared to the value of <code>SeriesDescription</code> of a sidecar. <code>AXIAL_T2_SPACE</code> will be a match, <code>AXIAL_T1</code> won't.</p>
<p><code>dcm2bids</code> has a <code>SidecarFilename</code> key, as in the first description, if you prefer to also match with the filename of the sidecar.</p>
<p>You can enter several criteria. <strong>All criteria must match</strong> for a description to be linked to a sidecar.</p>
<h2 id="datatype">dataType</h2>
<p>It is a mandatory field. Here is a definition from <code>bids v1.2.0</code> :</p>
<blockquote>
<p>Data type - a functional group of different types of data. In BIDS we define six data types: func (task based and resting state functional MRI), dwi (diffusion weighted imaging), fmap (field inhomogeneity mapping data such as field maps), anat (structural imaging such as T1, T2, etc.), meg (magnetoencephalography), beh (behavioral).</p>
</blockquote>
<h2 id="modalitylabel">modalityLabel</h2>
<p>It is a mandatory field. It describes the modality of the acquisition like <code>T1w</code>, <code>T2w</code> or <code>dwi</code>, <code>bold</code>.</p>
<h2 id="customlabels">customLabels</h2>
<p>It is an optional field. For some acquisitions, you need to add information in the file name. For resting state fMRI, it is usally <code>task-rest</code>.</p>
<p>To know more on how to set these fields, read the <a href="https://bids-specification.readthedocs.io/en/stable/">BIDS specifications</a>.</p>
<p>For a longer example of a Dcm2Bids config json, see <a href="https://github.com/cbedetti/Dcm2Bids/blob/master/example/config.json">here</a>.</p>
<h2 id="sidecarchanges">sidecarChanges</h2>
<p>Optional field to change or add information in a sidecar.</p>
<h2 id="intendedfor">intendedFor</h2>
<p>Optional field to add an <code>IntendedFor</code> entry in the sidecar of a fieldmap. Just put the index or a list of index of the description(s) that's intended for.</p>
<p>Python index begins at <code>0</code> so in the example, <code>0</code> means it is intended for <code>task-rest_bold</code>.</p>
<h4 id="1-sidecars"><sup>1</sup>: sidecars</h4>
<p>For each acquisition, <strong>dcm2niix</strong> creates an associated .json file, containing information from the dicom header. These are known as <strong>sidecars</strong>. These are the sidecars <strong>dcm2bids</strong> uses to filter the groups of acquisitions.</p>
<p>To define this filtering you will probably need to review these sidecars. You can generate all the sidecars for an individual participant using <a href="../usage/#tools">dcm2bids_helper</a>.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../advance/" class="btn btn-neutral float-right" title="Advanced configuration">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../usage/" class="btn btn-neutral" title="Usage"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/cbedetti/Dcm2Bids/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../usage/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../advance/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
